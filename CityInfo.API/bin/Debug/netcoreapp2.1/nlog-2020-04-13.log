2020-04-13 20:36:18.6912|INFO|CityInfo.API.Program|Initializing application...
2020-04-13 20:36:23.7539|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\jp123\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-04-13 20:36:25.6461|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 DEBUG http://localhost:15328/  0
2020-04-13 20:36:25.6461|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:15328/  
2020-04-13 20:36:26.0098|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 363.9484ms 200 
2020-04-13 20:36:26.9301|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 1286.0987ms 404 text/plain
2020-04-13 20:37:12.4176|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:15328/api/testdatabase  
2020-04-13 20:37:12.6819|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Route matched with {action = "TestDataBase", controller = "Dummy"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TestDataBase() on controller CityInfo.API.Controllers.DummyController (CityInfo.API).
2020-04-13 20:37:13.3514|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 2.1.14-servicing-32113 initialized 'CityInfoContex' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-04-13 20:37:24.5898|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (713ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CityInfoDB];
2020-04-13 20:37:24.7180|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (125ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-04-13 20:37:24.8993|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (60ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2020-04-13 20:37:24.8993|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [PointsOfInterest] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NULL,
    [City_Id] int NOT NULL,
    [CityId] int NOT NULL,
    CONSTRAINT [PK_PointsOfInterest] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PointsOfInterest_Cities_City_Id] FOREIGN KEY ([City_Id]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE
);
2020-04-13 20:37:24.9576|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_PointsOfInterest_City_Id] ON [PointsOfInterest] ([City_Id]);
2020-04-13 20:37:25.0045|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executing action method CityInfo.API.Controllers.DummyController.TestDataBase (CityInfo.API) - Validation state: Valid
2020-04-13 20:37:25.0384|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executed action method CityInfo.API.Controllers.DummyController.TestDataBase (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 24.8944ms.
2020-04-13 20:37:25.0384|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing HttpStatusCodeResult, setting HTTP status code 200
2020-04-13 20:37:25.0600|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executed action CityInfo.API.Controllers.DummyController.TestDataBase (CityInfo.API) in 12370.663ms
2020-04-13 20:37:25.1010|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 12686.4584ms 200 
2020-04-13 20:40:45.6458|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 2.1.14-servicing-32113 initialized 'CityInfoContex' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-04-13 20:40:56.5012|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (629ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CityInfoDB];
2020-04-13 20:40:56.6261|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (122ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-04-13 20:40:56.7294|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2020-04-13 20:40:56.7294|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [PointsOfInterest] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NULL,
    [City_Id] int NOT NULL,
    [CityId] int NOT NULL,
    CONSTRAINT [PK_PointsOfInterest] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PointsOfInterest_Cities_City_Id] FOREIGN KEY ([City_Id]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE
);
2020-04-13 20:40:56.7294|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_PointsOfInterest_City_Id] ON [PointsOfInterest] ([City_Id]);
2020-04-13 20:44:26.4355|INFO|CityInfo.API.Program|Initializing application...
2020-04-13 20:44:28.2284|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\jp123\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-04-13 20:44:28.9962|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 DEBUG http://localhost:15328/  0
2020-04-13 20:44:28.9962|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:15328/  
2020-04-13 20:44:29.0434|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 47.2895ms 200 
2020-04-13 20:44:29.4765|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 482.8337ms 404 text/plain
2020-04-13 20:44:33.3033|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:15328/api/testdatabase  
2020-04-13 20:44:33.3661|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Route matched with {action = "TestDataBase", controller = "Dummy"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TestDataBase() on controller CityInfo.API.Controllers.DummyController (CityInfo.API).
2020-04-13 20:44:33.7130|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 2.1.14-servicing-32113 initialized 'CityInfoContex' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-04-13 20:44:34.0717|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2020-04-13 20:44:34.0717|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executing action method CityInfo.API.Controllers.DummyController.TestDataBase (CityInfo.API) - Validation state: Valid
2020-04-13 20:44:34.0855|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executed action method CityInfo.API.Controllers.DummyController.TestDataBase (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 0.3584ms.
2020-04-13 20:44:34.0855|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing HttpStatusCodeResult, setting HTTP status code 200
2020-04-13 20:44:34.0855|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executed action CityInfo.API.Controllers.DummyController.TestDataBase (CityInfo.API) in 728.6215ms
2020-04-13 20:44:34.1072|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 804.1438ms 200 
2020-04-13 20:45:15.6179|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 2.1.14-servicing-32113 initialized 'CityInfoContex' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-04-13 20:45:15.9137|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2020-04-13 20:46:21.1699|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 2.1.14-servicing-32113 initialized 'CityInfoContex' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-04-13 20:46:32.0538|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (637ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CityInfoDB];
2020-04-13 20:46:32.1803|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (123ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-04-13 20:46:32.2595|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2020-04-13 20:46:32.2595|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [PointsOfInterest] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NULL,
    [City_Id] int NOT NULL,
    [CityId] int NOT NULL,
    CONSTRAINT [PK_PointsOfInterest] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PointsOfInterest_Cities_City_Id] FOREIGN KEY ([City_Id]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE
);
2020-04-13 20:46:32.2595|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_PointsOfInterest_City_Id] ON [PointsOfInterest] ([City_Id]);
2020-04-13 20:48:09.3388|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 2.1.14-servicing-32113 initialized 'CityInfoContex' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-04-13 20:48:09.6171|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-04-13 20:48:09.6742|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2020-04-13 20:48:09.6742|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-04-13 20:48:09.6742|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-04-13 20:48:09.6850|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200413234632_CityInfoDBInitialMigration'.
2020-04-13 20:48:09.9840|ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (99ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2020-04-13 20:48:49.5397|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 2.1.14-servicing-32113 initialized 'CityInfoContex' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-04-13 20:49:00.4520|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (682ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CityInfoDB];
2020-04-13 20:49:00.5722|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (118ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-04-13 20:49:00.6339|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2020-04-13 20:49:00.6339|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-04-13 20:49:00.6339|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-04-13 20:49:00.6339|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200413234632_CityInfoDBInitialMigration'.
2020-04-13 20:49:00.6597|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2020-04-13 20:49:00.6597|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [PointsOfInterest] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NULL,
    [City_Id] int NOT NULL,
    [CityId] int NOT NULL,
    CONSTRAINT [PK_PointsOfInterest] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PointsOfInterest_Cities_City_Id] FOREIGN KEY ([City_Id]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE
);
2020-04-13 20:49:00.6653|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_PointsOfInterest_City_Id] ON [PointsOfInterest] ([City_Id]);
2020-04-13 20:49:00.6653|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200413234632_CityInfoDBInitialMigration', N'2.1.14-servicing-32113');
2020-04-13 20:56:11.8382|INFO|CityInfo.API.Program|Initializing application...
2020-04-13 20:56:13.0482|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 2.1.14-servicing-32113 initialized 'CityInfoContex' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-04-13 20:56:24.0826|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (798ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CityInfoDB];
2020-04-13 20:56:24.2070|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (114ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-04-13 20:56:24.2731|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2020-04-13 20:56:24.2794|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-04-13 20:56:24.2794|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-04-13 20:56:24.2928|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200413234632_CityInfoDBInitialMigration'.
2020-04-13 20:56:24.3099|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2020-04-13 20:56:24.3099|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [PointsOfInterest] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NULL,
    [City_Id] int NOT NULL,
    [CityId] int NOT NULL,
    CONSTRAINT [PK_PointsOfInterest] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PointsOfInterest_Cities_City_Id] FOREIGN KEY ([City_Id]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE
);
2020-04-13 20:56:24.3099|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_PointsOfInterest_City_Id] ON [PointsOfInterest] ([City_Id]);
2020-04-13 20:56:24.3229|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200413234632_CityInfoDBInitialMigration', N'2.1.14-servicing-32113');
2020-04-13 20:56:24.3971|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\jp123\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-04-13 20:56:24.7708|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 DEBUG http://localhost:15328/  0
2020-04-13 20:56:24.7708|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:15328/  
2020-04-13 20:56:24.8074|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 36.8066ms 200 
2020-04-13 20:56:24.9629|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 194.6705ms 404 text/plain
2020-04-13 20:59:36.8693|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 2.1.14-servicing-32113 initialized 'CityInfoContex' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-04-13 21:00:09.7130|INFO|CityInfo.API.Program|Initializing application...
2020-04-13 21:00:11.0030|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 2.1.14-servicing-32113 initialized 'CityInfoContex' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-04-13 21:00:11.3495|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2020-04-13 21:00:11.3831|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [CityInfoDB];
2020-04-13 21:00:22.1812|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (776ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CityInfoDB];
2020-04-13 21:00:22.3094|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (126ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-04-13 21:00:22.3892|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2020-04-13 21:00:22.3892|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-04-13 21:00:22.4021|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-04-13 21:00:22.4143|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200413234632_CityInfoDBInitialMigration'.
2020-04-13 21:00:22.4426|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2020-04-13 21:00:22.4538|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [PointsOfInterest] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NULL,
    [City_Id] int NOT NULL,
    [CityId] int NOT NULL,
    CONSTRAINT [PK_PointsOfInterest] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PointsOfInterest_Cities_City_Id] FOREIGN KEY ([City_Id]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE
);
2020-04-13 21:00:22.4538|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_PointsOfInterest_City_Id] ON [PointsOfInterest] ([City_Id]);
2020-04-13 21:00:22.4625|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200413234632_CityInfoDBInitialMigration', N'2.1.14-servicing-32113');
2020-04-13 21:00:22.4625|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200413235937_CityInfoDBAddPoIDescription'.
2020-04-13 21:00:22.4770|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD [Description] nvarchar(200) NULL;
2020-04-13 21:00:22.4770|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200413235937_CityInfoDBAddPoIDescription', N'2.1.14-servicing-32113');
2020-04-13 21:00:22.5645|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\jp123\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-04-13 21:00:23.1768|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:15328/  
2020-04-13 21:00:23.1768|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 DEBUG http://localhost:15328/  0
2020-04-13 21:00:23.2278|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 51.4234ms 200 
2020-04-13 21:00:23.3889|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 213.03ms 404 text/plain
2020-04-13 21:17:19.4500|INFO|CityInfo.API.Program|Initializing application...
2020-04-13 21:17:20.0126|ERROR|CityInfo.API.Program|Application stopped because of exception.
2020-04-13 21:17:36.9345|INFO|CityInfo.API.Program|Initializing application...
2020-04-13 21:17:37.0921|ERROR|CityInfo.API.Program|Application stopped because of exception.
2020-04-13 21:18:56.4395|INFO|CityInfo.API.Program|Initializing application...
2020-04-13 21:19:07.1790|INFO|CityInfo.API.Program|Initializing application...
2020-04-13 21:19:07.7955|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 2.1.14-servicing-32113 initialized 'CityInfoContex' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-04-13 21:19:08.0153|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2020-04-13 21:19:08.0806|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (63ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [CityInfoDB];
2020-04-13 21:19:18.8608|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (763ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CityInfoDB];
2020-04-13 21:19:18.9930|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (132ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-04-13 21:19:19.0535|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2020-04-13 21:19:19.0576|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-04-13 21:19:19.0576|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-04-13 21:19:19.0576|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200413234632_CityInfoDBInitialMigration'.
2020-04-13 21:19:19.0809|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2020-04-13 21:19:19.0809|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [PointsOfInterest] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NULL,
    [City_Id] int NOT NULL,
    [CityId] int NOT NULL,
    CONSTRAINT [PK_PointsOfInterest] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PointsOfInterest_Cities_City_Id] FOREIGN KEY ([City_Id]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE
);
2020-04-13 21:19:19.0869|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_PointsOfInterest_City_Id] ON [PointsOfInterest] ([City_Id]);
2020-04-13 21:19:19.0869|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200413234632_CityInfoDBInitialMigration', N'2.1.14-servicing-32113');
2020-04-13 21:19:19.0869|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200413235937_CityInfoDBAddPoIDescription'.
2020-04-13 21:19:19.0869|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD [Description] nvarchar(200) NULL;
2020-04-13 21:19:19.0869|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200413235937_CityInfoDBAddPoIDescription', N'2.1.14-servicing-32113');
2020-04-13 21:19:19.1349|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\jp123\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-04-13 21:19:19.5223|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:15328/  
2020-04-13 21:19:19.6310|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 108.9724ms 404 text/plain
2020-04-13 21:20:04.5320|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 POST http://127.0.0.1:21528/iisintegration  0
2020-04-13 21:20:04.5320|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 2.3946ms 202 
2020-04-13 21:20:33.0008|INFO|CityInfo.API.Program|Initializing application...
2020-04-13 21:20:34.2526|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 2.1.14-servicing-32113 initialized 'CityInfoContex' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-04-13 21:20:45.2665|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (781ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CityInfoDB];
2020-04-13 21:20:45.3863|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (116ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-04-13 21:20:45.4594|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2020-04-13 21:20:45.4656|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-04-13 21:20:45.4656|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-04-13 21:20:45.4787|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200413234632_CityInfoDBInitialMigration'.
2020-04-13 21:20:45.4958|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2020-04-13 21:20:45.4958|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [PointsOfInterest] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NULL,
    [City_Id] int NOT NULL,
    [CityId] int NOT NULL,
    CONSTRAINT [PK_PointsOfInterest] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PointsOfInterest_Cities_City_Id] FOREIGN KEY ([City_Id]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE
);
2020-04-13 21:20:45.4958|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_PointsOfInterest_City_Id] ON [PointsOfInterest] ([City_Id]);
2020-04-13 21:20:45.5087|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200413234632_CityInfoDBInitialMigration', N'2.1.14-servicing-32113');
2020-04-13 21:20:45.5087|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200413235937_CityInfoDBAddPoIDescription'.
2020-04-13 21:20:45.5087|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD [Description] nvarchar(200) NULL;
2020-04-13 21:20:45.5087|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200413235937_CityInfoDBAddPoIDescription', N'2.1.14-servicing-32113');
2020-04-13 21:20:45.5939|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\jp123\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-04-13 21:20:46.1482|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 DEBUG http://localhost:15328/  0
2020-04-13 21:20:46.1482|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:15328/  
2020-04-13 21:20:46.1911|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 43.3027ms 200 
2020-04-13 21:20:46.3197|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 173.6233ms 404 text/plain
2020-04-13 21:20:46.6360|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:15328/favicon.ico  
2020-04-13 21:20:46.6360|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 3.7781ms 404 text/plain
2020-04-13 21:27:30.2004|INFO|CityInfo.API.Program|Initializing application...
2020-04-13 21:27:31.5813|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 2.1.14-servicing-32113 initialized 'CityInfoContex' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-04-13 21:27:31.7351|ERROR|CityInfo.API.Program|An error occurred while migrating the database.
2020-04-13 21:27:31.8335|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\jp123\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-04-13 21:27:32.4057|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 DEBUG http://localhost:15328/  0
2020-04-13 21:27:32.4057|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:15328/  
2020-04-13 21:27:32.4480|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 42.9221ms 200 
2020-04-13 21:27:32.5961|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 193.4061ms 404 text/plain
2020-04-13 21:27:46.3880|INFO|CityInfo.API.Program|Initializing application...
2020-04-13 21:28:02.2427|INFO|CityInfo.API.Program|Initializing application...
2020-04-13 21:28:02.9220|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 2.1.14-servicing-32113 initialized 'CityInfoContex' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-04-13 21:28:02.9450|ERROR|CityInfo.API.Program|An error occurred while migrating the database.
2020-04-13 21:28:02.9885|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\jp123\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-04-13 21:28:03.2716|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:15328/  
2020-04-13 21:28:03.3856|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 114.2243ms 404 text/plain
2020-04-13 21:45:58.0754|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 2.1.14-servicing-32113 initialized 'CityInfoContex' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-04-13 21:46:22.0657|INFO|CityInfo.API.Program|Initializing application...
2020-04-13 21:46:27.8450|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 2.1.14-servicing-32113 initialized 'CityInfoContex' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-04-13 21:46:27.9803|ERROR|CityInfo.API.Program|An error occurred while migrating the database.
2020-04-13 21:46:28.0848|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\jp123\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-04-13 21:46:28.7755|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:15328/  
2020-04-13 21:46:28.7755|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 DEBUG http://localhost:15328/  0
2020-04-13 21:46:28.8355|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 60.5201ms 200 
2020-04-13 21:46:28.9975|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 226.033ms 404 text/plain
2020-04-13 21:46:57.2069|INFO|CityInfo.API.Program|Initializing application...
2020-04-13 21:47:07.6375|INFO|CityInfo.API.Program|Initializing application...
2020-04-13 21:47:08.3643|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 2.1.14-servicing-32113 initialized 'CityInfoContex' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-04-13 21:47:08.3862|ERROR|CityInfo.API.Program|An error occurred while migrating the database.
2020-04-13 21:47:08.4278|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\jp123\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-04-13 21:47:08.9555|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:15328/  
2020-04-13 21:47:09.0829|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 128.2555ms 404 text/plain
2020-04-13 21:47:25.6948|INFO|CityInfo.API.Program|Initializing application...
2020-04-13 21:47:32.6676|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 2.1.14-servicing-32113 initialized 'CityInfoContex' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-04-13 21:47:43.6979|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (762ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CityInfoDB];
2020-04-13 21:47:43.8153|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (114ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-04-13 21:47:43.8877|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2020-04-13 21:47:43.8877|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-04-13 21:47:43.8877|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-04-13 21:47:43.9076|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200414004558_CityInfoDBInitialMigration'.
2020-04-13 21:47:43.9305|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2020-04-13 21:47:43.9305|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [PointsOfInterest] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    [CityId] int NOT NULL,
    CONSTRAINT [PK_PointsOfInterest] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PointsOfInterest_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE
);
2020-04-13 21:47:43.9749|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([Id], [Description], [Name])
VALUES (1, N'The one with that big park.', N'New York City');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-04-13 21:47:43.9879|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([Id], [Description], [Name])
VALUES (2, N'The one with the cathedral that was never really finished.', N'Antwerp');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-04-13 21:47:44.0012|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([Id], [Description], [Name])
VALUES (3, N'The one with that big tower.', N'Paris');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-04-13 21:47:44.0188|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CityId', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[PointsOfInterest]'))
    SET IDENTITY_INSERT [PointsOfInterest] ON;
INSERT INTO [PointsOfInterest] ([Id], [CityId], [Description], [Name])
VALUES (1, 1, N'The most visited urban park in the United States.', N'Central Park'),
(2, 1, N'A 102-story skyscraper located in Midtown Manhattan.', N'Empire State Building'),
(3, 2, N'A Gothic style cathedral, conceived by architects Jan and Pieter Appelmans.', N'Cathedral of Our Lady'),
(4, 2, N'The the finest example of railway architecture in Belgium.', N'Antwerp Central Station'),
(5, 3, N'A wrought iron lattice tower on the Champ de Mars, named after engineer Gustave Eiffel.', N'Eiffel Tower'),
(6, 3, N'The world''s largest museum.', N'The Louvre');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CityId', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[PointsOfInterest]'))
    SET IDENTITY_INSERT [PointsOfInterest] OFF;
2020-04-13 21:47:44.0838|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (63ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_PointsOfInterest_CityId] ON [PointsOfInterest] ([CityId]);
2020-04-13 21:47:44.0877|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200414004558_CityInfoDBInitialMigration', N'2.1.14-servicing-32113');
2020-04-13 21:47:44.1666|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\jp123\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-04-13 21:47:44.5810|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:15328/  
2020-04-13 21:47:44.5810|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 DEBUG http://localhost:15328/  0
2020-04-13 21:47:44.6210|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 38.5452ms 200 
2020-04-13 21:47:44.7609|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 182.1381ms 404 text/plain
